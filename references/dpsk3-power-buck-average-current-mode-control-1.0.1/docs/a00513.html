<!-- HTML header for doxygen 1.8.20-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Digital Power Starter Kit 3 Firmware: Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mchp.css" rel="stylesheet" type="text/css"/>
<link href="mchp_theme.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background-color: #000000;">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 36px;">
  <td id="projectlogo" style="padding-left: 0.2em; vertical-align: middle;"><img alt="Logo" src="microchip-docs.png"/></td>
  <td id="projectalign" style="padding-left: 0.0em;">
   <div id="projectname" style="color: white; font-size:16px;">Digital Power Starter Kit 3 Firmware
   </div>
   <div id="projectbrief" style="color: grey; font-size:12px;">dsPIC33C Buck Converter Average Current Mode Control Example</div>
  </td>
   <td style="padding-top: 10px; height: 20px; vertical-align: top;">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00513.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Functions<div class="ingroups"><a class="el" href="a00567.html">Device Driver Library Layer</a> &raquo; <a class="el" href="a00494.html">Buck Converter Library</a> &raquo; <a class="el" href="a00505.html">Buck Converter Library Modules</a> &raquo; <a class="el" href="a00512.html">Buck Special Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Public functions of the second library layer.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Functions:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00513.svg" width="298" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8573aaa632abde3518f8a4448ff73cf7"><td class="memItemLeft" align="right" valign="top">volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00513.html#ga8573aaa632abde3518f8a4448ff73cf7">drv_BuckConverter_SpecialFunctionExecute</a> (volatile struct <a class="el" href="a01664.html">BUCK_CONVERTER_s</a> *buckInstance, volatile enum <a class="el" href="a00516.html#ga3c2021030c83c9decfce3a892febcb9d">BUCK_SPECIAL_FUNCTIONS_e</a> specialFunction)</td></tr>
<tr class="memdesc:ga8573aaa632abde3518f8a4448ff73cf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the public function call access point to call dedicated special sub-functions.  <a href="a00513.html#ga8573aaa632abde3518f8a4448ff73cf7">More...</a><br /></td></tr>
<tr class="separator:ga8573aaa632abde3518f8a4448ff73cf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga337549d1d76534d9b092d7c8bdaf686a"><td class="memItemLeft" align="right" valign="top">volatile uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00513.html#ga337549d1d76534d9b092d7c8bdaf686a">CurrentSenseOffsetCalibration</a> (volatile struct <a class="el" href="a01664.html">BUCK_CONVERTER_s</a> *buckInstance)</td></tr>
<tr class="memdesc:ga337549d1d76534d9b092d7c8bdaf686a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs an offset calibration of the current sense feedback signal(s)  <a href="a00513.html#ga337549d1d76534d9b092d7c8bdaf686a">More...</a><br /></td></tr>
<tr class="separator:ga337549d1d76534d9b092d7c8bdaf686a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Public functions of the second library layer. </p>
<p>This is the detailed description of public functions of the special function module of the buck converter device driver library. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga337549d1d76534d9b092d7c8bdaf686a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga337549d1d76534d9b092d7c8bdaf686a">&#9670;&nbsp;</a></span>CurrentSenseOffsetCalibration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t CurrentSenseOffsetCalibration </td>
          <td>(</td>
          <td class="paramtype">volatile struct <a class="el" href="a01664.html">BUCK_CONVERTER_s</a> *&#160;</td>
          <td class="paramname"><em>buckInstance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs an offset calibration of the current sense feedback signal(s) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buckInstance</td><td>Pointer to a Buck Converter data object of type struct <a class="el" href="a01664.html" title="BUCK control &amp; monitoring data structure.">BUCK_CONVERTER_s</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>unsigned integer (0=failure, 1=success)</dd></dl>
<p>This function performs a current sense feedback channel zero-offset calibration. The calibration is executed when the reference voltage is applied to the current sense shunt amplifiers but the power supply is still turned off. The offset value is determined by a 4x oversampling of each of the feedback signals to eliminate high-frequency noise. Once the calibration is complete, the 'cs_calib_complete' status bit in the buck converter power controller object status word is set, allowing the state machine to run. </p>

<p class="definition">Definition at line <a class="el" href="a00263_source.html#l00178">178</a> of file <a class="el" href="a00263_source.html">dev_buck_special_functions.c</a>.</p>

</div>
</div>
<a id="ga8573aaa632abde3518f8a4448ff73cf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8573aaa632abde3518f8a4448ff73cf7">&#9670;&nbsp;</a></span>drv_BuckConverter_SpecialFunctionExecute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint16_t drv_BuckConverter_SpecialFunctionExecute </td>
          <td>(</td>
          <td class="paramtype">volatile struct <a class="el" href="a01664.html">BUCK_CONVERTER_s</a> *&#160;</td>
          <td class="paramname"><em>buckInstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">volatile enum <a class="el" href="a00516.html#ga3c2021030c83c9decfce3a892febcb9d">BUCK_SPECIAL_FUNCTIONS_e</a>&#160;</td>
          <td class="paramname"><em>specialFunction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the public function call access point to call dedicated special sub-functions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buckInstance</td><td>Pointer to a Buck Converter data object of type struct <a class="el" href="a01664.html" title="BUCK control &amp; monitoring data structure.">BUCK_CONVERTER_s</a> </td></tr>
    <tr><td class="paramname">specialFunction</td><td>Special function selection list of type enum BUCK_SPECIAL_FUNCTIONS_e </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 = BUCK_OPSRET_ERROR <br  />
 </dd>
<dd>
1 = BUCK_OPSRET_COMPLETE </dd>
<dd>
2 = BUCK_OPSRET_REPEAT <br  />
</dd></dl>
<p>This function call is the public API function call to execute one of the special functions supported by this power converter device driver extension.</p>
<p><b>Example:</b></p>
<p>The following example initiates the automatic feedback sense offset calibration. Special Functions behave like all other state machine states and sub-states by returning the results ERROR, COMPLETE or REPEAT.</p>
<ul>
<li>BUCK_OPSRET_ERROR An unexpected error occurred during execution of the Special Function routine, which prevents the state machine from continuing. If a ERROR is returned, it is recommended to reset the state machine and start all over.</li>
<li>BUCK_OPSRET_COMPLETE If the COMPLETE flag is returned, the Special Function has successfully completed and the state machine may move on.</li>
<li>BUCK_OPSRET_REPEAT If the REPEAT flag is returned, the function has to be called again until it returns the COMPLETE flag.</li>
</ul>
<div class="fragment"><div class="line">retval = <a class="code" href="a00513.html#ga8573aaa632abde3518f8a4448ff73cf7">drv_BuckConverter_SpecialFunctionExecute</a>(&amp;buckConverter, CS_OFSET_CALIBRATION);</div>
<div class="ttc" id="aa00513_html_ga8573aaa632abde3518f8a4448ff73cf7"><div class="ttname"><a href="a00513.html#ga8573aaa632abde3518f8a4448ff73cf7">drv_BuckConverter_SpecialFunctionExecute</a></div><div class="ttdeci">volatile uint16_t drv_BuckConverter_SpecialFunctionExecute(volatile struct BUCK_CONVERTER_s *buckInstance, volatile enum BUCK_SPECIAL_FUNCTIONS_e specialFunction)</div><div class="ttdoc">This is the public function call access point to call dedicated special sub-functions.</div><div class="ttdef"><b>Definition:</b> <a href="a00263_source.html#l00133">dev_buck_special_functions.c:133</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="a00263_source.html#l00133">133</a> of file <a class="el" href="a00263_source.html">dev_buck_special_functions.c</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00513_ga8573aaa632abde3518f8a4448ff73cf7_icgraph.svg" width="346" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.20-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <p style="height: 12px; padding-bottom: 8px; padding-right: 12px; vertical-align: bottom; text-align: right; font-size: 90%;">© 2021, Microchip Technology Inc.</p>
  </ul>
</div>
</body>
</html>
